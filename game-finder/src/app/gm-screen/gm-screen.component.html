<div class="content">
    <div class="nowrap-row">
        <div>
            <h1 style="display: inline;">Game Master Screen </h1>

            <!-- question circle, hover for gm screen explanation -->
            <mat-icon 
                class="help"
                matTooltip="add gm screen description" 
                matTooltipPosition="after"
                matTooltipHideDelay="2000"
            >
                help_outline
            </mat-icon>
        </div>

        <div>
            <mat-icon (click)="add()">add_circle</mat-icon>
        </div>
    </div>

    <div class="flex-row container">
        <div *ngFor="let npc of this.npcs">
            <!-- if null: show empty block -->
            <div *ngIf="npc == null" class="rounded-block empty">
                <mat-icon class="plus-icon">add</mat-icon>
            </div>
    
            <div *ngIf="npc != null" class="rounded-block" (click)="openDialog(npc)">
                <h3>{{ npc.name }}</h3>
                <h4>Lv {{ npc.level }} {{ npc.class }}</h4>

                <!-- stats -->
                <p>HP: cHP/mHP</p>

                <table>
                    <tr>
                        <td>AC</td>
                        <td>Initiative</td>
                        <td>Speed</td>
                    </tr>

                    <tr>
                        <td>(AC)</td>    <!-- armor class -->
                        <td>{{ statTool.calcMod( npc.stats.get('dex') ) }}</td> <!-- dex modifier -->
                        <td>(spd)</td> <!-- speed -->
                    </tr>
                </table>

                <table>

                    <!-- stat names -->
                    <tr>
                        <td>Str</td>
                        <td>Dex</td>
                        <td>Con</td>
                        <td>Int</td>
                        <td>Wis</td>
                        <td>Cha</td>
                    </tr>

                    <!-- stat modifiers -->
                    <tr>
                        <td>{{ statTool.calcMod( npc.stats.get('str') ) }}</td>
                        <td>{{ statTool.calcMod( npc.stats.get('dex') ) }}</td>
                        <td>{{ statTool.calcMod( npc.stats.get('con') ) }}</td>
                        <td>{{ statTool.calcMod( npc.stats.get('int') ) }}</td>
                        <td>{{ statTool.calcMod( npc.stats.get('wis') ) }}</td>
                        <td>{{ statTool.calcMod( npc.stats.get('cha') ) }}</td>
                    </tr>

                    <!-- stats -->
                    <tr>
                        <td>{{ npc.stats.get('str') }}</td>
                        <td>{{ npc.stats.get('dex') }}</td>
                        <td>{{ npc.stats.get('con') }}</td>
                        <td>{{ npc.stats.get('int') }}</td>
                        <td>{{ npc.stats.get('wis') }}</td>
                        <td>{{ npc.stats.get('cha') }}</td>
                    </tr>

                </table>
                
    
            </div>
        </div>
    </div>

</div>  